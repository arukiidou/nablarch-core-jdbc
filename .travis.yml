language: java
branches:
  only:
  - master
  - develop
before_install:
- chmod +x gradlew
install: true
cache:
  directories:
  - $HOME/.gradle/caches/
  - $HOME/.gradle/wrapper/
script:
- git clone -b master https://github.com/nablarch/nablarch-ci-script.git $HOME/build-script/
  && chmod +x $HOME/build-script/travis-ci/*.sh
- $HOME/build-script/travis-ci/install-oracle-jdk6.sh
- $HOME/build-script/travis-ci/nablarch-build.sh
- $HOME/build-script/travis-ci/upload-test-report.sh
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
notifications:
  slack:
    secure: kDoeECn8fP4JuJHsv6XQOfC0DducCU5m++p30z9cabj8NFs06W/9eVwjkeJ4FKOIQWJB/sgtC5Hdwl6tMFe/OtY3F0piNLQd0bWn5gWlWgBQnQsPfb8CvL+3CIqIlVbYvEGXr+nDEw7CSHthRt32Z1wP4CfDzatZWnOql/eghHQptfRBVtHry0FhNLzXPRf3iBaSknn4fm2BbogHgnxoI4a7bsm4Cp7ofkwGKWcS1R30/OUtm+4dY40oZF8lFsC84oXrHbZQ9I3oRPspgBdaSFPsf6/TBqdaSq4BatHeythOCBIXSIsy8Airdo1vgU4iCzS1UQm4FvVE9NI0jdaKkDD4+tkJpXDH8RsxzDP7qEiF+OhJrUSdeRfCirkFV1fGhL8DV/+msOet1rkihdo/yfXW/telndGIb2DJz7yKUNlVa9ygs+0G1b4Hm4yELgp98AraS3UMJkXx1E7CsRrheXHhtJ5EJzZwF+6jTNIljPCc8OIw2p1/dfA/I5+MVXRSOEUGFyxCUjSQhkMZ63xtaqjGlGjgoo1JZPz7PjxyI+5pU5ANgM8nTT8a/1JyIghzGIGuS5B2zvFehJHyGctM9VB/BsnvQfq3FFJMPucJ2YFew/9qajixYY+P88aNvmF3VcGl0IqRIXqr6e8ZNxguwEYKDr5mwaxuPykeliwRJ30=
